## Authentication

Authentication是为了解决“我是谁”的问题。

三种方法：我是（生物特征）、我有（硬件密码器）、我知道（密码）。安全性递减。

### 密码

密码最常用，但对密码的检查却可能存在问题。如果简单的用strcmp()之类的函数，可能通过分析时间的方式，实施侧信道攻击，从而降低密码破解的尝试次数。

解决方法是通过hash的方式，判断hash值而不是密码。服务器端也可以只保存hash值，而不保存密码的明文。但可能遭遇彩虹表攻击。

解决彩虹表的方法，是加盐（salt）。攻击者很可能也直接偷到所有的盐值，但依然大大增加了攻击的成本。

Cookie：不能每个操作都让用户输密码。目前的做法是cookie，但之前的实现仅仅把字符串连在一起，可能导致新问题。

### 钓鱼攻击（Phishing）

假网站诱骗用户输入密码。

方法1：用户不向服务器发送密码，而是发送H(R+password)，即对随机数和密码做一个hash，服务器做同样的运算，判断用户是否有密码。好处是密码不会泄露，不足在于无法防御中间人攻击。

方法2：用户用密码验证服务器，即把方法1反过来，用户选择一个随机数，让服务器证明其知道正确的密码。好处同样是密码不泄露，但还是无法防御中间人攻击。

方法3：Offline->online。让每次尝试都要经过真的服务器。例如在真服务器上放一个只有用户才知道的图片，用户输入用户名后，服务器显示图片，用户看到图片再输入密码。同样无法防御中间人攻击，但真服务器会发现某个假服务器频繁以不同的用户名登录。

方法4：为每个网站用不同的密码。

方法5：One-time password。

方法6：将关键的操作与password绑定，即使已经登录，还是要用户输入password，例如改密码时要用户再次输入。

方法7：FIDO，用生物识别技术，结合公钥私钥，取代password。


